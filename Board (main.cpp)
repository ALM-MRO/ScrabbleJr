#include <iostream>
#include <fstream>
#include <windows.h>
#include <time.h>
#include <ctime>
#include <cstdlib>
#include<vector>
#include<stdlib.h>
#include "Word.h"
#define BLACK 0
#define BLUE 1
#define GREEN 2
#define CYAN 3
#define RED 4
#define MAGENTA 5
#define BROWN 6
#define LIGHTGRAY 7
#define DARKGRAY 8
#define LIGHTBLUE 9
#define LIGHTGREEN 10
#define LIGHTCYAN 11
#define LIGHTRED 12
#define LIGHTMAGENTA 13
#define YELLOW 14
#define WHITE 15

using namespace std;

string dictionary[109581];
vector <vector <char>> board;

void setColor(int textColor, int bgColor) {
    SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), (textColor + (bgColor * 16)));
}

void readFile(){
    string srg;
    int count = 0;
    ifstream filestream("WORDS.TXT");
    if (filestream.is_open()) {
        while (getline(filestream, srg)){
            dictionary[count] = srg;
            count++;
        }
    }
    else cout << "Failed to open the file";
}
void printBoard(int lines, int columns){
    board[2][1] = 'I';
    setColor(YELLOW, BLACK);
    cout << "  ";
    for (int i = 0; i < columns ; i++){
        cout << "  " << char('a' + i);
    }
    cout << "  ";

    for (int i = 0; i < lines ; i++) {
        setColor(YELLOW, BLACK);
        cout << "\n " << char(65 + i) << " ";
        setColor(BLACK, YELLOW);
        for (int k = 0; k < columns; k++)
            cout << " " << board[i][k] << " ";
    }
    setColor(WHITE, BLACK);
}

void resetBoard(int lines, int columns){
    board.resize(lines);
    for(int i = 0; i < lines; i++)
        board[i].resize(columns);
}

void choosingWords(){
    string temporary_words[10];
    int random_number;
    int chosen_index = 11;
    string chosen_word;

    cout << "\n\nNow you may choose the words you'd like to place on it.(1-10)\n"; // ask Phil

    readFile();

    for (int i = 0; i < 10; i++) { //choosing 10 random words from dictionary
        random_number = rand() % 109581;
        temporary_words[i] = dictionary[random_number];
        cout << i + 1 << ") " << temporary_words[i] << "\n";
    }
    while (chosen_index < 1 | chosen_index > 10) { //user chooses 1 out of the 10 suggested words
        cin >> chosen_index;
        if (chosen_index < 1 | chosen_index > 10)
            cout << "Choose a number between 1 and 10.\n";
    }
    chosen_index--;
    chosen_word = temporary_words[chosen_index];
    cout << "You have chosen the word '"<< chosen_word << "'."; //print chosen word
}

void choosingBoard(){
    int lines, columns;
    char letter = ' ';
    string chosen_word;

    cout << "Choose the size of the board you wish to build.\n" << "Lines:";
    cin >> lines;
    cout << "\nColumns:";
    cin >> columns;

    cout << "This is your initial board.\n";

    resetBoard(lines, columns);
    printBoard(lines, columns);
}

int main() {
    //_sleep(200000);
    srand(time(0));
    choosingBoard();
    choosingWords();
    return 0;
}
